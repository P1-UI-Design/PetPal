<!DOCTYPE html>
<html>
  <head>
    <title>Pet Search</title>
    <link
      href="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css"
      rel="stylesheet"
    />
    <style>
      .marcus-filter-container {
        background-color: white;
        padding: 20px;
      }

      .marcus-sort-label {
        margin-top: 20px;
      }

      .card {
        margin: 10px;
        width: 18rem;
        background-color: white;
      }

      @media (pointer: none), (pointer: coarse) {
        .card-columns {
          display: grid;
          grid-template-columns: 1fr;
          gap: 10px;
        }
      }

      .card-header {
        background-color: purple;
        color: #fff;
      }
    </style>
  </head>
  <body>
    <div class="container-fluid">
      <div class="row">
        <div class="col-md-3">
          <div class="marcus-filter-container">
            <div class="form-group">
              <label for="speciesFilter" class="filter-label">Species:</label>
              <select class="form-control" id="speciesFilter">
                <option value="all">All</option>
                <option value="dog">Dog</option>
                <option value="cat">Cat</option>
              </select>
            </div>

            <div class="form-group">
              <label for="breedFilter" class="filter-label">Breed:</label>
              <select class="form-control" id="breedFilter">
                <option value="all">-</option>
              </select>
            </div>

            <div class="form-group">
              <label for="sexFilter" class="filter-label">Sex:</label>
              <select class="form-control" id="breedFilter">
                <option value="all">All</option>
                <option value="male">Male</option>
                <option value="male">Female</option>
              </select>
            </div>

            <div class="form-group">
              <label for="locationFilter" class="filter-label">Location:</label>
              <select class="form-control" id="locationFilter">
                <option value="All">All</option>
                <option value="New York">New York</option>
                <option value="Quebec">Quebec</option>
                <option value="Ontario">Ontario</option>
              </select>
            </div>

            <button type="button" class="btn btn-primary" id="applyFilters">
              Apply Filters
            </button>

            <div class="form-group">
              <label for="sort-by" class="marcus-sort-label">Sort by:</label>
              <select class="sort-by" id="age">
                <option value="default">Default</option>
                <option value="young">Youngest first</option>
                <option value="old">Oldest first</option>
                <option value="large">Largest first</option>
                <option value="small">Smallest first</option>
                <option value="alphabetic">Alphabetic</option>
                <option value="rev-alpha">Reverse alphabetic</option>
              </select>
            </div>
            <button type="button" class="btn btn-primary" id="applySort">
              Apply Sort
            </button>
          </div>
        </div>
        <div class="col-md-9">
          <div class="card-columns" id="searchResults"></div>
        </div>
      </div>
    </div>

    <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.9.3/dist/umd/popper.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>

    <script>
      const speciesFilter = document.getElementById("speciesFilter");
      const breedFilter = document.getElementById("breedFilter");

      const breedOptions = {
        all: ["All"],
        dog: ["All", "Labrador", "German Shepherd", "Golden Retriever"],
        cat: ["All", "LiHua", "Persian", "Maine Coon"],
      };

      speciesFilter.addEventListener("change", function () {
        const selectedSpecies = speciesFilter.value;
        const breedOptionsForSpecies = breedOptions[selectedSpecies] || [];

        breedFilter.innerHTML = "";

        breedOptionsForSpecies.forEach((breed) => {
          const option = document.createElement("option");
          option.value = breed;
          option.textContent = breed;
          breedFilter.appendChild(option);
        });
      });

      const petData = [
        {
          name: "Justin",
          species: "Dog",
          breed: "Labrador",
          age: "3 years",
          sex: "Male",
          image: "asserts/search/dog1.jpg",
          location: "New York",
        },
        {
          name: "Donald",
          species: "Cat",
          breed: "Lihua",
          age: "2 years",
          sex: "Male",
          image: "asserts/search/cat1.jpg",
          location: "Ontario",
        },
        {
          name: "Joe",
          species: "Cat",
          breed: "Persian",
          age: "6 months",
          sex: "Male",
          image: "asserts/search/cat2.jpg",
          location: "Quebec",
        },
      ];

      function createPetCard(pet) {
        const card = document.createElement("div");
        card.classList.add("card");

        const cardHeader = document.createElement("div");
        cardHeader.classList.add("card-header");
        cardHeader.textContent = pet.name;
        card.appendChild(cardHeader);

        const cardBody = document.createElement("div");
        cardBody.classList.add("card-body");

        const breedLabel = document.createElement("p");
        breedLabel.textContent = `Breed: ${pet.breed} ${pet.species}`;
        cardBody.appendChild(breedLabel);

        const ageLabel = document.createElement("p");
        ageLabel.textContent = `Age: ${pet.age}`;
        cardBody.appendChild(ageLabel);

        const locationLabel = document.createElement("p");
        locationLabel.textContent = `Location: ${pet.location}`;
        cardBody.appendChild(locationLabel);

        const image = document.createElement("img");
        image.src = pet.image;
        image.classList.add("card-img-top");
        card.appendChild(image);

        const moreInfoButton = document.createElement("button");
        moreInfoButton.classList.add("btn", "btn-primary");
        moreInfoButton.textContent = "More Information";

        moreInfoButton.addEventListener("click", function () {
          alert(
            `This should lead me to the pet information page, not connected yet through backend`
          );
        });

        cardBody.appendChild(moreInfoButton);
        card.appendChild(cardBody);

        return card;
      }

      function displaySearchResults() {
        const searchResultsContainer = document.getElementById("searchResults");

        searchResultsContainer.innerHTML = "";

        petData.forEach((pet) => {
          const card = createPetCard(pet);
          searchResultsContainer.appendChild(card);
        });
      }

      displaySearchResults();
    </script>
  </body>
</html>
